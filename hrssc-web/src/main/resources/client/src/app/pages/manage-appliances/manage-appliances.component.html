<app-page-header [parentTitle]="parentTitle" [title]="title" [subTitle]="subTitle" [titleLink]="titleLink" [subTitleLink]="subTitleLink"></app-page-header>


<!-- content area -->
<div class="content">
  <div class="row">
    <div class="col-md-2"></div>
    <div class="tabbable panel login-form width-400 col-md-8">

      <ul class="nav nav-tabs nav-tabs-highlight nav-justified">
        <li class="active">
          <a href="#basic-tab1" data-toggle="tab">
            Appliance requests
            <span class="badge badge-info position-right">23</span>
          </a>
        </li>
        <li>
          <a href="#basic-tab2" data-toggle="tab">
            My invites
            <span class="badge badge-info position-right">23</span>
          </a>
        </li>
      </ul>

      <div class="tab-content panel-body">
        <div class="tab-pane fade in active" id="basic-tab1">
          <div class="panel panel-flat">
            <div class="panel-body" *ngFor="let apply of listAppliance">
              <a data-toggle="collapse" [attr.data-target]="'#appliance' + apply.id">
                <div class="media">
                  <div class="media-left">
                    <img src="assets/images/evolable-asia-logo-170-151.png" alt="">
                  </div>
                  <div class="media-body">
                    {{apply.title}}
                    <p>Type: {{apply.type}}</p>
                  </div>
                  <div class="media-right">Appliance({{apply.countApply}})</div>
                </div>
              </a>
              <!-- data collapse 1 -->
              <div id="appliance{{apply.id}}" class="panel-collapse collapse">
                <div class="panel-body" *ngFor="let resourceList of apply.interactionsById">
                  <div class="media-left">
                    <img src="assets/images/FPT.jpg" alt="">
                  </div>
                  <div class="media-body">

                    <a href="#"> {{resourceList.humanResourceByHumanResourceId.fullname}}</a>
                    <i>of</i>
                    <!-- {{resourceList.humanResourceByHumanResourceId.companyId}} -->
                    <a href="">{{resourceList.humanResourceByHumanResourceId.companyByCompanyId.name}}</a>
                    <i>want to join</i>
                  </div>
                  <div class="media-right">
                    <!-- <button (click)="selectResource(resourceList, apply.id)" class="btn btn-success">Link to contract</button> -->
                    <button class="btn btn-success" (click)="linkToContract(resourceList?.id)">Link to contract</button>                    
                  </div>
                </div>

              </div>
            </div>
          </div>
        </div>

        <div class="tab-pane fade" id="basic-tab2">
          <app-appliance-contract></app-appliance-contract>
        </div>
      </div>

    </div>

    <!-- <div class="panel panel-flat col-md-8">
      <div class="panel-body">
        <div class="panel-group">
          <div class="panel panel-default">
          </div>
        </div>
      </div>
    </div> -->

    <div class="col-md-2"></div>
  </div>

</div>