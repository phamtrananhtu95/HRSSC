<!-- Page header -->

<app-page-header [parentTitle]="parentTitle" [title]="title" [subTitle]="subTitle" [titleLink]="titleLink"></app-page-header>

<!-- End page header -->

<!-- Content area -->
<div class="content">

  <div class="row">

    <!-- left content -->
    <div class="col-md-8">
      <div class="panel panel-success">

        <div class="panel-body">
          <div class="col-md-3">
            <div class="thumbnail no-padding">
              <div class="thumb">
                <img src="{{project?.companyByCompanyId?.logo}}" style="height: 190px;" alt="{{project?.companyByCompanyId?.name}}">
                <div class="caption-overflow">
                  <!-- <span>
                    <a href="assets/images/evolable-asia-logo-170-151.png" class="btn bg-success-400 btn-icon btn-xs" data-popup="lightbox">
                      <i class="icon-plus2"></i>
                    </a>
                    <a href="user_pages_profile.html" class="btn bg-success-400 btn-icon btn-xs">
                      <i class="icon-link"></i>
                    </a>
                  </span> -->
                </div>
              </div>
<!-- 
              <div class="caption text-center">
                <h6 class="text-semibold no-margin">{{project?.companyByCompanyId?.name}}</h6>

              </div> -->
            </div>
          </div>
          <div class="col-md-9">
            <div class="media-body">
              <h1 class="media-heading">
                <b>{{project?.title}}</b>
              </h1>
              <h4>
                <b>Skill:</b> {{skillList}}
              </h4>
              <!-- <h4>
                <b>Number: ?</b>
              </h4> -->
              <h4>
                <b>
                  Location:</b> {{project?.companyByCompanyId?.city}}
              </h4>
              <!-- <h4>
                <b>
                  5 days ago</b>
              </h4> -->
              <h4>
                <b>
                  Company:</b> {{project?.companyByCompanyId?.name}}
              </h4>
            </div>
            <div class="media-right media-middle">
              <button *ngIf="!isManager && !isChief" type="submit" class="btn btn-success btn-rounded btn-xlg" (click)="getAvailableResource()"
                data-toggle="modal" data-target="#modal_theme_info">
                Apply
              </button>
              <span *ngIf="isManager" style="font-size: 14px;" [ngClass]="project.processStatus == 1 ? 'border-success text-success-600' : project.processStatus == 2 ? 'border-danger text-danger-600' : 'border-slate text-slate-600'"
                class="label label-flat">
                {{project.processStatus == 1 ? "PENDING" : project.processStatus == 2 ? "On_Going" : "FINISHED"}}</span>
            </div>
          </div>
        </div>

      </div>

      <!-- Tabbed form -->
      <div *ngIf="isManager" class="tabbable panel login-form width-400">
        <ul class="nav nav-tabs nav-tabs-highlight nav-justified">
          <li class="active">
            <a href="#basic-tab1" data-toggle="tab">
              <h6>Info</h6>
            </a>
          </li>
          <li>
            <a href="#basic-tab2" data-toggle="tab">
              <h6>Joined Resources</h6>
            </a>
          </li>
        </ul>

        <div class="tab-content panel-body">
          <div class="tab-pane fade in active" id="basic-tab1">
            <div class="col-md-12">
              <app-info-project-manager (reloadProject)="getProjectById()" (reloadMatchingResource)="reloadMatchingResource()" [project]="project"></app-info-project-manager>
            </div>
          </div>

          <div class="tab-pane fade" id="basic-tab2">
            <app-resource-joined></app-resource-joined>
          </div>
        </div>
      </div>

      <div *ngIf="!isManager" class="panel panel-flat">
        <div class="panel-body">
          <div class="col-md-12">
            <app-info-project-view [project]="project"></app-info-project-view>
          </div>
        </div>
      </div>


    </div>

    <!-- right content -->
    <div *ngIf="isManager" class="col-md-4">
      <app-resource-matching></app-resource-matching>
    </div>
    <div *ngIf="!isManager" class="col-md-4">
      <app-project-similar></app-project-similar>
    </div>
  </div>

  <!-- Info modal -->
  <app-project-info-popup [listAvailableResource]="listAvailableResource"></app-project-info-popup>
  <!-- /info modal -->
</div>
<!-- End Content Area -->